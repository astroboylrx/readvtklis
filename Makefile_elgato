CXX	  = /uaopt/openmpi/1.8.1/bin/mpicxx

OPTIMIZE  = -O2 -m64 -Wall -g

SOURCES   = readvtklis.cpp readvtk.cpp readlis.cpp fop.cpp
OBJECTS   = $(SOURCES:.cpp=.o)
INCL      = readvtk.h readlis.h fop.h

CXXFLAGS  = -std=c++11 -I/uaopt/openmpi/1.8.1/include
LDFLAGS   = -L/uaopt/openmpi/1.8.1/lib
LIBS      = -lm -lmpi_cxx -lmpi

EXEC      = readvtklis

all: $(SOURCES) $(EXEC)

$(EXEC): $(OBJECTS) 
	$(CXX) $(OPTIMIZE) $(LDFLAGS) $(OBJECTS) $(LIBS) -o $@
	rm $(OBJECTS)
.cpp.o:
	$(CXX) $(OPTIMIZE) $(CXXFLAGS) -c $< -o $@

.PHONY : clean

clean:
	 rm -f $(OBJECTS) $(EXEC)
